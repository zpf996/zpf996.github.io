---
layout:     post
title:      字节跳动2020-9-6 笔试题 上台阶问题
subtitle:   面试
date:       2020-7-31
author:     leon7777
header-img: img/user.jpg
catalog: 	 true
tags:
    - c
    - 面试
    - 动态规划
    - leetcode
---
# 字节跳动2020-9-6 笔试题 上台阶问题
## 题目
![1](./台阶问题.png)

## 解题思路
这一道题是动态规划题，在做这一道题前先应该做一道简单的爬楼梯的动态规划题。  
### leetcode.79 爬楼梯
```
假设你正在爬楼梯。需要 n 阶你才能到达楼顶。

每次你可以爬 1 或 2 个台阶。你有多少种不同的方法可以爬到楼顶呢？

注意：给定 n 是一个正整数。
```
#### 题解
做这一道题是典型的动态规划，如果你不懂什么是动态规划，也没事，我们用最简单的初中数学来理解动态规划  

设到n级台阶有x种方法  
读题每次可以爬1或2级台阶，则到n级只有从n-1级或者n-2级走，才能到达  

则设n-1级到n级有x1种走法，n-2级到n级有x2种走法  

x=x1+x2
我们会发现到n级的走法被分解成了2个小问题，只要知道x1和x2就知道了x，典型的动态规划核心思想（将问题分解为小问题）  

此时，写代码解决问题，如果还是通过递归的方法，就说明你还是too young to simple  

这一步我们不何妨用数组记住每一级的走法，需要那一级，直接输出对应数组元素  


#### 代码
```c
int climbStairs(int n){
    int i;
    int a[1000];
    a[1]=1;                 //边界条件，舍弃第一个位置
    a[2]=2;
    for(i=3;i<=n;i++)       //依次存储每级台阶的走法
    {
        a[i]=a[i-1]+a[i-2]; //核心代码
    }
    return a[n];
}
```
### 深入解题

做过上面这一道爬楼梯的题后，应该明白这道题的解题难点了  

难点：2步不能连续走  

此时就在想如果不能连续走2步，该如何解决问题  

不慌，冷静思考，根据动态规划的核心思想，分解问题为小问题解决问题  

1、设到n级有x种走法 
2、不能连续走两步，需要判断上一步是走了几步
3、走一步前，上一级可以为1步或者2步
4、走两步前，上一级只能为1步
5、设从n级走一步，上一步为1步为x11，上一步为2步为x12
6、设从n级走两步，上一步只能为1步为x21
7、x=x11+x12+x21

通过这八步，可以将这道题理解清楚，接下来开始写代码  
#### 写代码
在写代码之前，应该想清楚，采用什么结构来存储走法  
通过分析，对于走一步和两步有标记，我们采用二维数组，并且这个数据有些大可能需要longlong  

```c
#include<stdio.h>
#include<stdlib.h>

int main()
{
    long long a[101][2];
    int i=0;
    for(i=1;i<101;i++)
    {
        a[i][1]=0;
        a[i][2]=0;
    }
    a[1][1]=1;
    a[2][1]=1;
    a[2][2]=1;
    for(i=3;i<101;i++)    //a[i][j]为通过j步到达i级
    {
        a[i][1]=a[i][1]+a[i-1][2]+a[i-1][1];
        a[i][2]=a[i][2]+a[i-2][1];
    }
    printf("%lld",(a[n][1]+a[n][2]));
    return 0;
}
```
n=100  走法为 35734758952996318  
可以用来验证
